from openfisca_core.model_api import *
from openfisca_core.periods import MONTH, YEAR
from openfisca_core.variables import Variable
from openfisca_france_entreprises.entities import UniteLegale, Etablissement  # noqa F401


class ventes_marchandises_fr(Variable):
    cerfa_field = "FA"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Ventes de marchandises en France"
    definition_period = YEAR


class ventes_marchandises_ue(Variable):
    cerfa_field = "FB"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Ventes de marchandises - Exportations et livraisons intracommunautaires"
    definition_period = YEAR


class ventes_marchandises(Variable):
    cerfa_field = "FC"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Ventes de marchandises - Total"
    definition_period = YEAR

    def formula(UniteLegale, period):
        val_fr = UniteLegale("ventes_marchandises_fr", period)
        val_ue = UniteLegale("ventes_marchandises_ue", period)

        total = val_fr + val_ue

        return total


class production_vendue_biens_fr(Variable):
    cerfa_field = "FD"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Production de biens vendue en France"
    definition_period = YEAR


class production_vendue_biens_ue(Variable):
    cerfa_field = "FE"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Production de biens vendue - Exportations et livraisons intracommunautaires"
    definition_period = YEAR


class production_vendue_biens(Variable):
    cerfa_field = "FF"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Production de biens vendue - Total"
    definition_period = YEAR

    def formula(UniteLegale, period):
        val_fr = UniteLegale("production_vendue_biens_fr", period)
        val_ue = UniteLegale("production_vendue_biens_ue", period)

        total = val_fr + val_ue

        return total


class production_vendue_services_fr(Variable):
    cerfa_field = "FG"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Production de services vendue en France"
    definition_period = YEAR


class production_vendue_services_ue(Variable):
    cerfa_field = "FH"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Production de services vendue - Exportations et livraisons intracommunautaires"
    definition_period = YEAR


class production_vendue_services(Variable):
    cerfa_field = "FI"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Production de services vendue - Total"
    definition_period = YEAR

    def formula(UniteLegale, period):
        val_fr = UniteLegale("production_vendue_services_fr", period)
        val_ue = UniteLegale("production_vendue_services_ue", period)

        total = val_fr + val_ue

        return total


class chiffres_affaires_nets_fr(Variable):
    cerfa_field = "FJ"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Chiffres d'affaires nets - France"
    definition_period = YEAR


class chiffres_affaires_nets_ue(Variable):
    cerfa_field = "FK"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Chiffres d'affaires nets - Exportations et livraisons intracommunautaires"
    definition_period = YEAR


class chiffres_affaires_nets(Variable):
    cerfa_field = "FL"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Chiffres d'affaires nets - Total"
    definition_period = YEAR

    def formula(UniteLegale, period):
        val_fr = UniteLegale("chiffres_affaires_nets_fr", period)
        val_ue = UniteLegale("chiffres_affaires_nets_ue", period)

        total = val_fr + val_ue

        return total


class production_stockee(Variable):
    cerfa_field = "FM"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Production stockée"
    definition_period = YEAR


class production_immobilisee(Variable):
    cerfa_field = "FN"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Production immobilisée"
    definition_period = YEAR


class subventions_exploitation(Variable):
    cerfa_field = "FO"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Subventions d'exploitation"
    definition_period = YEAR


class reprises_amortissements_provisions(Variable):
    cerfa_field = "FP"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Reprises sur amortissements et provisions, transferts de charge"
    definition_period = YEAR


class autres_produits(Variable):
    cerfa_field = "FQ"
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Autres produits"
    definition_period = YEAR


class produits_exploitation(Variable):
    value_type = int
    unit = 'currency'
    entity = UniteLegale
    label = "Produits d'exploitation (Total II)"
    definition_period = YEAR

    def formula(UniteLegale, period):
        ventes_marchandises = UniteLegale("ventes_marchandises", period)
        production_vendue_biens = UniteLegale("production_vendue_biens", period)
        production_vendue_services = UniteLegale("production_vendue_services", period)
        chiffres_affaires_nets = UniteLegale("chiffres_affaires_nets", period)
        production_stockee = UniteLegale("production_stockee", period)
        production_immobilisee = UniteLegale("production_immobilisee", period)
        subventions_exploitation = UniteLegale("subventions_exploitation", period)
        reprises_amortissements_provisions = UniteLegale("reprises_amortissements_provisions", period)
        autres_produits = UniteLegale("autres_produits", period)

        total = (ventes_marchandises + production_vendue_biens + production_vendue_services + chiffres_affaires_nets + production_stockee + production_immobilisee + subventions_exploitation + reprises_amortissements_provisions + autres_produits)

        return total
