# You can also use test files to describe complex situations with different entities
# We can run this test on our command line using `openfisca-run-test tests/situations/income_tax.yaml`

- name: Income tax for a single headquarter and a secondary
  description: Income tax should get properly computed across all members of a firm
  period: 2017-01
  absolute_error_margin: 0
  input:
    firm:
      headquarters: [ Alicia ]
      secondaries: [ Michael ]
      accommodation_size: 100
      housing_occupancy_status: tenant
    establishments:
      Alicia:
        birth: 1961-01-15
        salary:
          2017-01: 2400
      Michael:
        birth: 2002-01-15
        salary:
          2016: 0
  output:
    establishments:
      Alicia:
        income_tax: 360
      Michael:
        income_tax: 0
    firm:
      housing_tax:
        2017: 1000
